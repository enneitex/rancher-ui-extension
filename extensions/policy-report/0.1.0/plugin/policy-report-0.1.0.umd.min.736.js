(("undefined"!==typeof self?self:this)["webpackChunkpolicy_report_0_1_0"]=("undefined"!==typeof self?self:this)["webpackChunkpolicy_report_0_1_0"]||[]).push([[736],{1177:function(e,t,a){var o={"./classic/metadata.json":9621,"./csp/metadata.json":6471,"./federal/metadata.json":1862,"./harvester/metadata.json":1507,"./rgs/metadata.json":8401,"./suse/metadata.json":7259};function r(e){var t=l(e);return a(t)}function l(e){if(!a.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=l,e.exports=r,r.id=1177},3175:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return B}});var o=a(9274),r=a(5359),l=a(3514),n=a.n(l),s=a(4220),i=a(2671),c=a(3600),p=a(9250);const u=[{name:"policy",labelKey:"policyReport.headers.policyReportsTab.policy.label",value:"policy",sort:"policy"},{name:"severity",labelKey:"policyReport.headers.policyReportsTab.severity.label",value:"severity",sort:"severitySort",align:"center"},{name:"status",labelKey:"policyReport.headers.policyReportsTab.status.label",value:"status",sort:"result",align:"center"}],d=[{value:"none",icon:"icon-list-flat",tooltipKey:"policyReport.grouping.none"},{value:"severity",icon:"icon-warning",field:"severity",hideColumn:"severity",groupLabelKey:"severity",tooltipKey:"policyReport.grouping.severity"},{value:"result",icon:"icon-checkmark",field:"result",hideColumn:"status",groupLabelKey:"result",tooltipKey:"policyReport.grouping.status"}];var y=a(4858);const m={key:0,"data-testid":"resource-tab-loading",class:"pr-tab__loading"},v={key:1,class:"pr-tab__container"},f={key:0},g={class:"text-center"},b={class:"text-center"},_={key:0,class:"group-tab"},w={key:1,class:"group-tab"},k=["colspan"],h={class:"text-muted"},x={class:"details"},N={class:"col"},E={class:"title"},V={class:"col"},R={class:"title"},C={class:"col"},D={class:"title"};var j=(0,o.defineComponent)({__name:"ResourceTab",setup(e){const t=(0,r.Pj)();let a=null;const l=t.getters["i18n/t"],j=(0,o.ref)(null),S=(0,o.ref)(null),T=u,B=d,K={id:"policy-report-result",type:"schema"},O=(0,o.reactive)({pending:!0}),z=(0,o.computed)(()=>S.value?.type===s.CU),M=(0,o.computed)(()=>j.value?.results?j.value.results.map((e,t)=>({...e,severitySort:(0,y.ze)(e.severity),uniqueKey:`${e.policy}-${e.rule||t}`})):[]);function $(){if(a?.params?.resource&&a?.params?.id){const e=a?.params.namespace?`${a?.params.namespace}/${a?.params.id}`:a?.params.id;S.value=t.getters["cluster/byId"](a?.params.resource,e)}}async function U(){S.value&&(O.pending=!0,j.value=await(0,y.yf)(t,S.value)),O.pending=!1}function L(e,t,a=!1){if(z.value&&a){if(e.scope&&t in e.scope){const a=e.scope[t];return"string"===typeof a?a:"-"}return"-"}if(!n()(e)&&t in e){const a=e[t];return"string"===typeof a?a:"-"}return"-"}function q(e){return e.result&&e.severity?(0,y.M7)(e.severity):"bg-muted"}function A(e){if(e.result){const t=(0,y.q3)(e.result),a=t.includes("sizzle")?`${t}-bg`:t.replace(/text-/,"bg-");return a}return"bg-muted"}function I(e){return e.replace(/^clusterwide-/,"").replace(/^namespaced-[^-]+-/,"")}return(0,o.onMounted)(async()=>{if(!a){const e=(0,o.getCurrentInstance)();if(!e?.proxy?.$route)return;a=e.proxy.$route}$(),await(0,o.nextTick)(),await U()}),(e,t)=>{const a=(0,o.resolveDirective)("clean-html");return O.pending?((0,o.openBlock)(),(0,o.createElementBlock)("div",m,t[0]||(t[0]=[(0,o.createElementVNode)("i",{class:"icon icon-lg icon-spinner icon-spin m-20"},null,-1)]))):!O.pending&&M.value?((0,o.openBlock)(),(0,o.createElementBlock)("div",v,[(0,o.createVNode)((0,o.unref)(p.A),{schema:K,rows:M.value,headers:(0,o.unref)(T),namespaced:!1,"table-actions":!1,"row-actions":!1,"key-field":"uniqueKey",groupable:!0,"group-options":(0,o.unref)(B),"sub-expandable":!0,"sub-expand-column":!0,"sub-rows":!0},{"col:policy":(0,o.withCtx)(({row:e})=>[e.policy?((0,o.openBlock)(),(0,o.createElementBlock)("td",f,[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(I(e.policy)),1)])):(0,o.createCommentVNode)("",!0)]),"col:severity":(0,o.withCtx)(({row:e})=>[(0,o.createElementVNode)("td",g,[(0,o.createVNode)((0,o.unref)(i.j),{label:L(e,"severity"),color:q(e)},null,8,["label","color"])])]),"col:status":(0,o.withCtx)(({row:e})=>[(0,o.createElementVNode)("td",b,[(0,o.createVNode)((0,o.unref)(i.j),{label:L(e,"result"),color:A(e)},null,8,["label","color"])])]),"group-by":(0,o.withCtx)(({group:e})=>[e&&e.key?((0,o.openBlock)(),(0,o.createElementBlock)("div",_,(0,o.toDisplayString)("severity"===e.key?(0,o.unref)(l)("policyReport.headers.policyReportsTab.severity.label"):(0,o.unref)(l)("policyReport.headers.policyReportsTab.status.label"))+": "+(0,o.toDisplayString)(e.ref||e.key),1)):(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("div",w,null,512)),[[a,e?.ref||""]])]),"sub-row":(0,o.withCtx)(({row:e,fullColspan:t})=>[(0,o.createElementVNode)("td",{colspan:t,class:"pr-tab__sub-row"},[e.message?((0,o.openBlock)(),(0,o.createBlock)((0,o.unref)(c.l),{key:0,color:"info",class:"message"},{default:(0,o.withCtx)(()=>[(0,o.createElementVNode)("span",h,(0,o.toDisplayString)((0,o.unref)(l)("policyReport.headers.policyReportsTab.message.title"))+": ",1),(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(e.message),1)]),_:2},1024)):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",x,[(0,o.createElementVNode)("section",N,[(0,o.createElementVNode)("div",E,(0,o.toDisplayString)((0,o.unref)(l)("policyReport.headers.policyReportsTab.source")),1),(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(e.source||"-"),1)]),(0,o.createElementVNode)("section",V,[(0,o.createElementVNode)("div",R,(0,o.toDisplayString)((0,o.unref)(l)("policyReport.headers.policyReportsTab.category")),1),(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(e.category||"-"),1)]),(0,o.createElementVNode)("section",C,[(0,o.createElementVNode)("div",D,(0,o.toDisplayString)((0,o.unref)(l)("policyReport.headers.policyReportsTab.rule")),1),(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(e.rule||"-"),1)])])],8,k)]),_:1},8,["rows","headers","group-options"])])):(0,o.createCommentVNode)("",!0)}}}),S=(a(6373),a(7433));const T=(0,S.A)(j,[["__scopeId","data-v-0a5ae235"]]);var B=T},4437:function(e,t,a){"use strict";a.r(t);var o=a(6758),r=a.n(o),l=a(935),n=a.n(l),s=n()(r());s.push([e.id,".pr-tab__loading[data-v-0a5ae235]{display:flex;justify-content:center}.pr-tab__container .sizzle-warning-bg[data-v-0a5ae235]{background-color:#614ea2;color:#fff}.pr-tab__container .text-warning[data-v-0a5ae235]{color:var(--warning)!important}.pr-tab__container .text-darker[data-v-0a5ae235]{color:var(--dark)!important}.pr-tab__container .sizzle-warning[data-v-0a5ae235]{color:#614ea2}.pr-tab__sub-row[data-v-0a5ae235]{background-color:var(--body-bg);border-bottom:1px solid var(--sortable-table-top-divider);padding-left:1rem;padding-right:1rem}.pr-tab__sub-row .message[data-v-0a5ae235]{display:flex;flex-direction:column}.pr-tab__sub-row .details[data-v-0a5ae235]{display:flex;flex-direction:row}.pr-tab__sub-row .details .col[data-v-0a5ae235]{display:flex;flex-direction:column}.pr-tab__sub-row .details .col section[data-v-0a5ae235]{margin-bottom:1.5rem}.pr-tab__sub-row .details .col .title[data-v-0a5ae235]{color:var(--muted);margin-bottom:.5rem}",""]),t["default"]=s},6373:function(e,t,a){var o=a(4437);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var r=a(4825).A;r("69ed507c",o,!0,{sourceMap:!1,shadowMode:!1})},9989:function(e,t,a){var o={"./management.cattle.io.fleetworkspace":5593,"./management.cattle.io.fleetworkspace.vue":5593,"./management.cattle.io.globalrole":9126,"./management.cattle.io.globalrole.vue":9126,"./management.cattle.io.project":1193,"./management.cattle.io.project.vue":1193,"./management.cattle.io.roletemplate":4093,"./management.cattle.io.roletemplate.vue":4093,"./mixin/roleDeletionCheck":1277,"./mixin/roleDeletionCheck.js":1277,"./pod":4563,"./pod.vue":4563};function r(e){var t=l(e);return a(t)}function l(e){if(!a.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=l,e.exports=r,r.id=9989}}]);
//# sourceMappingURL=policy-report-0.1.0.umd.min.736.js.map