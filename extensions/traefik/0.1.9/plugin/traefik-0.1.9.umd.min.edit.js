(("undefined"!==typeof self?self:this)["webpackChunktraefik_0_1_9"]=("undefined"!==typeof self?self:this)["webpackChunktraefik_0_1_9"]||[]).push([[739],{12962:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return _}});var s=a(9274);const r={key:0},l={class:"row"},o={class:"col span-12"},i={key:0,class:"row mb-10"},n={class:"col span-12"},d={class:"row"},c={class:"col span-12"};function u(e,t,a,u,p,v){const m=(0,s.resolveComponent)("Loading"),h=(0,s.resolveComponent)("NameNsDescription"),b=(0,s.resolveComponent)("Banner"),f=(0,s.resolveComponent)("LabeledInput"),g=(0,s.resolveComponent)("Tab"),V=(0,s.resolveComponent)("Routes"),y=(0,s.resolveComponent)("TLSConfiguration"),k=(0,s.resolveComponent)("IngressClassTab"),C=(0,s.resolveComponent)("Labels"),N=(0,s.resolveComponent)("Tabbed"),w=(0,s.resolveComponent)("CruResource");return e.$fetchState.pending?((0,s.openBlock)(),(0,s.createBlock)(m,{key:0})):((0,s.openBlock)(),(0,s.createBlock)(w,{key:1,"done-route":e.doneRoute,mode:e.mode,resource:e.value,subtypes:[],"validation-passed":v.validationPassed,errors:v.validationErrors,onError:t[3]||(t[3]=e=>p.errors=e),onFinish:e.save},{default:(0,s.withCtx)(()=>[e.value?((0,s.openBlock)(),(0,s.createElementBlock)("div",r,[(0,s.createElementVNode)("div",null,[v.isView?(0,s.createCommentVNode)("",!0):((0,s.openBlock)(),(0,s.createBlock)(h,{key:0,value:e.value,mode:e.mode},null,8,["value","mode"]))]),(0,s.createVNode)(N,{"side-tabs":!0},{default:(0,s.withCtx)(()=>[(0,s.createVNode)(g,{name:"entrypoints",label:e.t("traefik.ingressRouteTCP.entryPoints.label"),weight:10,error:v.tabErrors.entrypoints},{default:(0,s.withCtx)(()=>[(0,s.createElementVNode)("div",l,[(0,s.createElementVNode)("div",o,[(0,s.createVNode)(b,{color:"info",label:e.t("traefik.ingressRouteTCP.entryPoints.description")},null,8,["label"])])]),v.entryPointsValid?(0,s.createCommentVNode)("",!0):((0,s.openBlock)(),(0,s.createElementBlock)("div",i,[(0,s.createElementVNode)("div",n,[(0,s.createVNode)(b,{color:"error",label:e.t("traefik.ingressRouteTCP.validation.entryPointsRequired")},null,8,["label"])])])),(0,s.createElementVNode)("div",d,[(0,s.createElementVNode)("div",c,[(0,s.createVNode)(f,{value:p.entryPointsString,"onUpdate:value":t[0]||(t[0]=e=>p.entryPointsString=e),mode:e.mode,label:e.t("traefik.ingressRouteTCP.entryPoints.label"),placeholder:e.t("traefik.ingressRouteTCP.entryPoints.placeholder"),tooltip:e.t("traefik.ingressRouteTCP.entryPoints.tooltip"),error:v.entryPointsValid?null:e.t("traefik.ingressRouteTCP.validation.entryPointsRequired")},null,8,["value","mode","label","placeholder","tooltip","error"])])])]),_:1},8,["label","error"]),(0,s.createVNode)(g,{name:"routes",label:e.t("traefik.ingressRouteTCP.route.label"),weight:9,error:v.tabErrors.routes},{default:(0,s.withCtx)(()=>[(0,s.createVNode)(V,{value:e.value,mode:e.mode,"service-targets":v.serviceTargets,"middleware-targets":v.middlewareTcpTargets,onValidationChanged:t[1]||(t[1]=e=>p.routesValid=e)},null,8,["value","mode","service-targets","middleware-targets"])]),_:1},8,["label","error"]),(0,s.createVNode)(g,{name:"tls",label:e.t("traefik.ingressRouteTCP.tls.label"),weight:8,error:v.tabErrors.tls},{default:(0,s.withCtx)(()=>[(0,s.createVNode)(y,{value:e.value,mode:e.mode,"secret-targets":v.secretTargets,"tls-options-targets":v.tlsOptionsTargets,"tls-stores-targets":v.tlsStoresTargets,namespace:e.value.metadata.namespace,"support-passthrough":!0,"is-tcp":!0,onTlsValidationChanged:t[2]||(t[2]=e=>p.tlsValid=e)},null,8,["value","mode","secret-targets","tls-options-targets","tls-stores-targets","namespace"])]),_:1},8,["label","error"]),(0,s.createVNode)(g,{name:"ingress-class",label:e.t("traefik.ingressRoute.ingressClass.tab"),weight:7},{default:(0,s.withCtx)(()=>[(0,s.createVNode)(k,{value:e.value,mode:e.mode,"ingress-classes":p.ingressClasses},null,8,["value","mode","ingress-classes"])]),_:1},8,["label"]),(0,s.createVNode)(g,{name:"labels-and-annotations","label-key":"generic.labelsAndAnnotations",weight:-1},{default:(0,s.withCtx)(()=>[(0,s.createVNode)(C,{"default-container-class":"labels-and-annotations-container",value:e.value,mode:e.mode,"display-side-by-side":!1},null,8,["value","mode"])]),_:1})]),_:1})])):(0,s.createCommentVNode)("",!0)]),_:1},8,["done-route","mode","resource","validation-passed","errors","onFinish"]))}var p=a(82451),v=a.n(p),m=a(88339),h=a(14220),b=a(35664),f=a(2517),g=a(77651),V=a(83331),y=a(40527),k=a(42411),C=a(75823),N=a(19434),w=a(63209),T=a(28623),S=a(22128),R=a(9980),A=a(87619),E=a(39758),P=a(58488),x=a(39392),O={name:"CRUIngressRouteTCP",inheritAttrs:!1,emits:["input"],components:{CruResource:C.A,NameNsDescription:y.A,Routes:E.A,TLSConfiguration:P.A,Labels:N.A,Tab:k.A,Tabbed:w.A,LabeledSelect:T.A,LabeledInput:S.o,Banner:R.l,Loading:A.A,IngressClassTab:x.A},mixins:[f.A,g.A,V.A],async fetch(){const e=this.value?.metadata?.namespace||null,t={namespace:e,data:{[b.YV]:{applyTo:[{var:"services",classify:!0}]},[b.bB]:{applyTo:[{var:"secrets",classify:!0}]},"traefik.io.middlewaretcp":{applyTo:[{var:"middlewares",classify:!0}]},"traefik.io.tlsoption":{applyTo:[{var:"tlsOptions",classify:!0}]},"traefik.io.tlsstore":{applyTo:[{var:"tlsStores",classify:!0}]}}};await this.resourceManagerFetchSecondaryResources(t);const a={ingressClasses:this.$store.dispatch("cluster/findAll",{type:"networking.k8s.io.ingressclass",opt:{force:!0}})},s=await(0,m.$t)(a);"fulfilled"===s.ingressClasses?.status&&(this.ingressClasses=s.ingressClasses.value||[])},data(){const e={entryPoints:[],routes:[{match:"HostSNI(`*`)",services:[{name:"",port:"",kind:"Service"}],middlewares:[]}]};return this.mode===h.YQ?this.value["spec"]=v()(this.value.spec,e):(this.value.spec=this.value.spec||{},this.value.spec.entryPoints=this.value.spec.entryPoints||[],this.value.spec.routes=this.value.spec.routes||[],0===this.value.spec.routes.length&&this.value.spec.routes.push({match:"HostSNI(`*`)",services:[{name:"",port:"",kind:"Service"}],middlewares:[]})),{services:[],secrets:[],middlewaretcps:[],tlsOptions:[],tlsStores:[],ingressClasses:[],errors:[],routesValid:!1,tlsValid:!0,entryPointsString:(this.value.spec.entryPoints||[]).join(", "),fvReportedValidationPaths:["spec.routes.match","spec.routes.services.name","spec.routes.services.port","spec.entryPoints"],fvFormRuleSets:[{path:"spec.routes.match",rules:["required"],translationKey:"traefik.ingressRouteTCP.route.match.label"},{path:"spec.routes.services.name",rules:["required"],translationKey:"traefik.ingressRouteTCP.route.service.label"},{path:"spec.routes.services.port",rules:["required"],translationKey:"traefik.ingressRouteTCP.route.port.label"},{path:"spec.entryPoints",rules:["required"],translationKey:"traefik.ingressRouteTCP.entryPoints.label"}]}},computed:{tabErrors(){return{entrypoints:!this.entryPointsValid,routes:!this.routesValid||this.fvGetPathErrors(["spec.routes.match","spec.routes.services.name","spec.routes.services.port"]).length>0,tls:!this.tlsValid}},isView(){return this.mode===h.nW},entryPointsValid(){return this.value.spec.entryPoints&&this.value.spec.entryPoints.length>0},validationPassed(){return this.fvFormIsValid&&this.routesValid&&this.tlsValid&&this.entryPointsValid},validationErrors(){const e=[];return[...this.fvUnreportedValidationErrors,...e,...this.errors]},serviceTargets(){return this.services.map(e=>({label:e.metadata.name,value:e.metadata.name,ports:e.spec?.ports||[]}))},secretTargets(){return this.secrets.filter(e=>"kubernetes.io/tls"===e._type).map(e=>({label:e.metadata.name,value:e.metadata.name}))},middlewareTcpTargets(){return this.middlewaretcps.map(e=>({label:e.metadata.name,value:e.metadata.name,namespace:e.metadata.namespace}))},tlsOptionsTargets(){return this.tlsOptions.map(e=>({label:e.metadata.name,value:e.metadata.name}))},tlsStoresTargets(){return this.tlsStores.map(e=>({label:e.metadata.name,value:e.metadata.name}))}},created(){this.registerBeforeHook(this.willSave,"willSave")},watch:{"value.spec.routes":{handler(e){this.routesValid=e&&e.length>0&&e.every(e=>!!e.match)},deep:!0,immediate:!0},entryPointsString(e){this.value.spec.entryPoints=e?e.split(",").map(e=>e.trim()).filter(e=>e):[]},async"value.metadata.namespace"(e){if(e&&!this.$fetchState.pending){const t={namespace:e,data:{[b.YV]:{applyTo:[{var:"services",classify:!0}]},[b.bB]:{applyTo:[{var:"secrets",classify:!0}]},"traefik.io.middlewaretcp":{applyTo:[{var:"middlewaretcps",classify:!0}]},"traefik.io.tlsoption":{applyTo:[{var:"tlsOptions",classify:!0}]},"traefik.io.tlsstore":{applyTo:[{var:"tlsStores",classify:!0}]}}};await this.resourceManagerFetchSecondaryResources(t)}}},methods:{willSave(){this.value.spec.routes.forEach(e=>{delete e.vKey,e.services&&e.services.forEach(e=>{delete e.vKey,"object"===typeof e.name&&(e.name=e.name?.label||e.name?.value||""),"object"===typeof e.port&&(e.port=e.port?.label||e.port?.value||"")}),e.middlewares&&e.middlewares.forEach(e=>delete e.vKey)}),this.value.spec.tls?.domains&&this.value.spec.tls.domains.forEach(e=>delete e.vKey)}}},B=a(47433);const L=(0,B.A)(O,[["render",u]]);var _=L},16363:function(e,t,a){"use strict";a.r(t);var s=a(36758),r=a.n(s),l=a(40935),o=a.n(l),i=o()(r());i.push([e.id,".route-wrapper[data-v-fb12d270]{margin-bottom:20px}.route-card[data-v-fb12d270]{border:1px solid var(--border);border-radius:var(--border-radius);padding:20px;background:var(--box-bg)}.route-header[data-v-fb12d270]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.route-header h4[data-v-fb12d270]{margin:0;color:var(--primary)}.middleware-section[data-v-fb12d270],.services-section[data-v-fb12d270]{margin-top:20px;padding-top:20px;border-top:1px solid var(--border)}.middleware-section h5[data-v-fb12d270],.services-section h5[data-v-fb12d270]{margin-bottom:15px;color:var(--text-color)}.service-row[data-v-fb12d270]{margin-bottom:15px;padding:15px;background:var(--accent-btn);border-radius:var(--border-radius)}.remove-btn[data-v-fb12d270]{margin-top:30px}",""]),t["default"]=i},17591:function(e,t,a){var s=a(51831);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals);var r=a(74825).A;r("3d05377f",s,!0,{sourceMap:!1,shadowMode:!1})},21402:function(e,t,a){"use strict";a.r(t);var s=a(36758),r=a.n(s),l=a(40935),o=a.n(l),i=o()(r());i.push([e.id,"",""]),t["default"]=i},27985:function(e,t,a){"use strict";a.r(t);var s=a(36758),r=a.n(s),l=a(40935),o=a.n(l),i=o()(r());i.push([e.id,".routes-section[data-v-0158da48]{margin-bottom:20px}.container-group[data-v-0158da48]{padding:20px}",""]),t["default"]=i},39122:function(e,t,a){var s=a(69810);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals);var r=a(74825).A;r("f3e47c2c",s,!0,{sourceMap:!1,shadowMode:!1})},39392:function(e,t,a){"use strict";a.d(t,{A:function(){return f}});var s=a(9274);const r={class:"ingress-class-tab"},l={class:"row mb-20"},o={class:"col span-12"},i={key:0,class:"row mb-20"},n={class:"col span-12"},d={class:"row"},c={class:"col span-12"};function u(e,t,a,u,p,v){const m=(0,s.resolveComponent)("Banner"),h=(0,s.resolveComponent)("LabeledSelect");return(0,s.openBlock)(),(0,s.createElementBlock)("div",r,[(0,s.createElementVNode)("div",l,[(0,s.createElementVNode)("div",o,[(0,s.createVNode)(m,{color:"info",label:e.t("traefik.ingressRoute.ingressClass.description")},null,8,["label"])])]),v.hasIngressClasses||"view"===a.mode?(0,s.createCommentVNode)("",!0):((0,s.openBlock)(),(0,s.createElementBlock)("div",i,[(0,s.createElementVNode)("div",n,[(0,s.createVNode)(m,{color:"warning",label:e.t("traefik.ingressRoute.ingressClass.noIngressClasses")},null,8,["label"])])])),(0,s.createElementVNode)("div",d,[(0,s.createElementVNode)("div",c,[(0,s.createVNode)(h,{value:v.currentIngressClass,"onUpdate:value":t[0]||(t[0]=e=>v.currentIngressClass=e),mode:a.mode,label:e.t("traefik.ingressRoute.ingressClass.label"),placeholder:e.t("traefik.ingressRoute.ingressClass.placeholder"),tooltip:e.t("traefik.ingressRoute.ingressClass.tooltip"),options:v.ingressClassOptions,disabled:!v.hasIngressClasses&&"view"!==a.mode},null,8,["value","mode","label","placeholder","tooltip","options","disabled"])])])])}var p=a(28623),v=a(9980),m={name:"IngressClassTab",emits:["update"],components:{LabeledSelect:p.A,Banner:v.l},props:{value:{type:Object,required:!0},mode:{type:String,default:"edit"},ingressClasses:{type:Array,default:()=>[]}},computed:{currentIngressClass:{get(){return this.value?.metadata?.annotations?.["kubernetes.io/ingress.class"]||""},set(e){this.value.metadata||(this.value.metadata={}),this.value.metadata.annotations||(this.value.metadata.annotations={}),e&&""!==e?this.value.metadata.annotations["kubernetes.io/ingress.class"]=e:delete this.value.metadata.annotations["kubernetes.io/ingress.class"],this.$emit("update")}},ingressClassOptions(){const e=this.ingressClasses.map(e=>({label:e.metadata.name,value:e.metadata.name}));return[{label:this.t("traefik.ingressRoute.ingressClass.none"),value:""},...e]},hasIngressClasses(){return this.ingressClasses&&this.ingressClasses.length>0}}},h=(a(78656),a(47433));const b=(0,h.A)(m,[["render",u],["__scopeId","data-v-1348605e"]]);var f=b},39758:function(e,t,a){"use strict";a.d(t,{A:function(){return I}});var s=a(9274);const r={class:"routes-section"},l={class:"row mb-40"},o={class:"col span-12"};function i(e,t,a,i,n,d){const c=(0,s.resolveComponent)("Route"),u=(0,s.resolveComponent)("Tab"),p=(0,s.resolveComponent)("Tabbed");return(0,s.openBlock)(),(0,s.createElementBlock)("div",r,[(0,s.createElementVNode)("div",l,[(0,s.createElementVNode)("div",o,[(0,s.createVNode)(p,{"side-tabs":!0,"show-tabs-add-remove":"view"!==a.mode,"use-hash":a.useTabbedHash,onAddTab:d.addRoute,onRemoveTab:d.removeRoute},{default:(0,s.withCtx)(()=>[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(a.value.spec.routes,(e,t)=>((0,s.openBlock)(),(0,s.createBlock)(u,{key:e.vKey,name:"route-"+t,label:d.routeLabel(t),error:!1===n.routeValidations[t],"show-header":!1,class:"container-group"},{default:(0,s.withCtx)(()=>[(0,s.createVNode)(c,{value:e,mode:a.mode,index:t,"service-targets":a.serviceTargets,"middleware-targets":a.middlewareTargets,"can-remove":a.value.spec.routes.length>1,"is-tcp":a.isTcp,onRemove:e=>d.removeRoute(t),onValidationChanged:e=>d.routeValidationChanged(e,t)},null,8,["value","mode","index","service-targets","middleware-targets","can-remove","is-tcp","onRemove","onValidationChanged"])]),_:2},1032,["name","label","error"]))),128))]),_:1},8,["show-tabs-add-remove","use-hash","onAddTab","onRemoveTab"])])])])}var n=a(9980),d=a(92043),c=a(42411),u=a(63209),p=a(68851);const v={class:"route-card"},m={class:"route-header"},h={class:"row mb-15"},b={class:"col span-12"},f={key:0,class:"row mb-15"},g={class:"col span-12"},V={class:"services-section"},y={class:"middleware-section"},k={class:"row mb-10"},C={class:"col span-12"};function N(e,t,a,r,l,o){const i=(0,s.resolveComponent)("LabeledInput"),n=(0,s.resolveComponent)("Banner"),d=(0,s.resolveComponent)("ServiceRow"),c=(0,s.resolveComponent)("ArrayListGrouped"),u=(0,s.resolveComponent)("LabeledSelect");return(0,s.openBlock)(),(0,s.createElementBlock)("div",v,[(0,s.createElementVNode)("div",m,[(0,s.createElementVNode)("h4",null,(0,s.toDisplayString)(o.routeTitle),1),a.canRemove?((0,s.openBlock)(),(0,s.createElementBlock)("button",{key:0,type:"button",class:"btn role-link",onClick:t[0]||(t[0]=(...e)=>o.remove&&o.remove(...e))},(0,s.toDisplayString)(e.t("generic.remove")),1)):(0,s.createCommentVNode)("",!0)]),(0,s.createElementVNode)("div",h,[(0,s.createElementVNode)("div",b,[(0,s.createVNode)(i,{ref:"match",value:a.value.match,"onUpdate:value":t[1]||(t[1]=e=>a.value.match=e),mode:a.mode,label:e.t("traefik.ingressRoute.routes.match.label"),placeholder:e.t("traefik.ingressRoute.routes.match.placeholder"),tooltip:e.t("traefik.ingressRoute.routes.match.tooltip"),required:!0,error:o.matchError},null,8,["value","mode","label","placeholder","tooltip","error"])])]),o.hasOrOperators&&"view"!==a.mode?((0,s.openBlock)(),(0,s.createElementBlock)("div",f,[(0,s.createElementVNode)("div",g,[(0,s.createVNode)(n,{color:"warning",label:e.t("traefik.ingressRoute.routes.match.warningMultipleOr")},null,8,["label"])])])):(0,s.createCommentVNode)("",!0),(0,s.createElementVNode)("div",V,[(0,s.createElementVNode)("h5",null,(0,s.toDisplayString)(e.t("traefik.ingressRoute.routes.service.label")),1),(0,s.createVNode)(c,{value:a.value.services,"onUpdate:value":t[2]||(t[2]=e=>a.value.services=e),mode:a.mode,"add-label":`${e.t("generic.add")} ${e.t("traefik.ingressRoute.routes.service.label")}`,"default-add-value":a.isTcp?{name:"",port:""}:{name:"",port:"",kind:"Service"},"initial-empty-row":!1,onAdd:()=>{}},{default:(0,s.withCtx)(({row:e})=>[(0,s.createVNode)(d,{value:e.value,"onUpdate:value":t=>e.value=t,"service-targets":a.serviceTargets,mode:a.mode,"is-tcp":a.isTcp},null,8,["value","onUpdate:value","service-targets","mode","is-tcp"])]),_:1},8,["value","mode","add-label","default-add-value"])]),(0,s.createElementVNode)("div",y,[(0,s.createElementVNode)("h5",null,(0,s.toDisplayString)(a.isTcp?e.t("traefik.ingressRouteTCP.middleware.label"):e.t("traefik.ingressRoute.middleware.label")),1),"view"!==a.mode&&0===a.middlewareTargets.length?((0,s.openBlock)(),(0,s.createBlock)(n,{key:0,color:"info",label:a.isTcp?e.t("traefik.ingressRouteTCP.middleware.noMiddlewaresAvailable"):e.t("traefik.ingressRoute.middleware.noMiddlewaresAvailable")},null,8,["label"])):(0,s.createCommentVNode)("",!0),a.middlewareTargets.length>0?((0,s.openBlock)(),(0,s.createBlock)(c,{key:1,value:a.value.middlewares,"onUpdate:value":t[3]||(t[3]=e=>a.value.middlewares=e),mode:a.mode,"add-label":`${e.t("generic.add")} ${a.isTcp?e.t("traefik.ingressRouteTCP.middleware.label"):e.t("traefik.ingressRoute.middleware.label")}`,"default-add-value":{name:"",namespace:""},"initial-empty-row":!1,onAdd:()=>{}},{default:(0,s.withCtx)(({row:t})=>[(0,s.createElementVNode)("div",k,[(0,s.createElementVNode)("div",C,[(0,s.createVNode)(u,{value:t.value.name,"onUpdate:value":e=>t.value.name=e,mode:a.mode,label:e.t("traefik.ingressRoute.middleware.name.label"),placeholder:e.t("traefik.ingressRoute.middleware.name.placeholder"),tooltip:e.t("traefik.ingressRoute.middleware.name.tooltip"),options:o.middlewareOptions,"onUpdate:modelValue":e=>{t.value.name=e;const s=a.middlewareTargets.find(t=>t.value===e);s&&(t.value.namespace=s.namespace)}},null,8,["value","onUpdate:value","mode","label","placeholder","tooltip","options","onUpdate:modelValue"])])])]),_:1},8,["value","mode","add-label"])):(0,s.createCommentVNode)("",!0)])])}var w=a(22128),T=a(28623),S=a(30279);const R={class:"row mb-10"},A={key:0,class:"col span-6"};function E(e,t,a,r,l,o){const i=(0,s.resolveComponent)("LabeledSelect");return(0,s.openBlock)(),(0,s.createElementBlock)("div",R,[(0,s.createElementVNode)("div",{class:(0,s.normalizeClass)(o.isTraefikService?"col span-12":"col span-6")},[(0,s.createVNode)(i,{value:l.serviceName,"onUpdate:value":t[0]||(t[0]=e=>l.serviceName=e),taggable:!0,searchable:!0,mode:a.mode,label:e.t("traefik.ingressRoute.routes.service.label"),tooltip:o.serviceTargetTooltip,placeholder:e.t("traefik.ingressRoute.routes.service.placeholder"),options:a.serviceTargets,required:!0,status:o.serviceTargetStatus,"hover-tooltip":!0,error:l.serviceName?"":e.t("validation.required",{key:e.t("traefik.ingressRoute.routes.service.label")}),"onUpdate:modelValue":o.updateServiceName},null,8,["value","mode","label","tooltip","placeholder","options","status","error","onUpdate:modelValue"])],2),o.isTraefikService?(0,s.createCommentVNode)("",!0):((0,s.openBlock)(),(0,s.createElementBlock)("div",A,[(0,s.createVNode)(i,{value:l.servicePort,"onUpdate:value":t[1]||(t[1]=e=>l.servicePort=e),mode:a.mode,label:e.t("traefik.ingressRoute.routes.port.label"),placeholder:e.t("traefik.ingressRoute.routes.port.placeholder"),tooltip:e.t("traefik.ingressRoute.routes.port.tooltip"),options:o.portOptions,required:!0,error:l.servicePort?"":e.t("validation.required",{key:e.t("traefik.ingressRoute.routes.port.label")}),"onUpdate:modelValue":o.updateServicePort},null,8,["value","mode","label","placeholder","tooltip","options","error","onUpdate:modelValue"])]))])}var P={emits:["update:value"],components:{LabeledInput:w.o,LabeledSelect:T.A},props:{value:{type:Object,required:!0,default:()=>({name:"",port:"",kind:"Service"})},serviceTargets:{type:Array,default:()=>[]},mode:{type:String,default:"edit"},isTcp:{type:Boolean,default:!1}},data(){return{serviceName:this.value.name||"",servicePort:this.value.port||"",serviceKind:this.value.kind||"Service"}},computed:{serviceTargetStatus(){const e=this.serviceName?.label||this.serviceName,t=!e||this.serviceTargets.find(t=>e===t.value);return t?null:"warning"},serviceTargetTooltip(){return"warning"===this.serviceTargetStatus?this.t("traefik.ingressRoute.routes.service.doesntExist"):this.t("traefik.ingressRoute.routes.service.tooltip")},portOptions(){const e=this.serviceTargets.find(e=>e.value===this.serviceName);return e&&e.ports?e.ports.map(e=>({label:e.name?`${e.name} (${e.port})`:e.port,value:e.name||e.port})):[]},isTraefikService(){const e=this.serviceTargets.find(e=>e.value===this.serviceName);return"TraefikService"===e?.kind}},watch:{"value.name"(e){e!==this.serviceName&&(this.serviceName=e)},"value.port"(e){e!==this.servicePort&&(this.servicePort=e)},"value.kind"(e){e!==this.serviceKind&&(this.serviceKind=e)}},methods:{update(){const e="string"===typeof this.serviceName?this.serviceName:this.serviceName?.label||this.serviceName?.value||"",t="string"===typeof this.servicePort||"number"===typeof this.servicePort?this.servicePort:this.servicePort?.label||this.servicePort?.value||"",a={name:e,port:t,kind:this.serviceKind};this.$emit("update:value",a)},updateServiceName(e){const t="string"===typeof e?e:e?.label||e?.value||"";this.serviceName=t;const a=this.serviceTargets.find(e=>e.value===t);if(a)if(this.serviceKind=a.kind||"Service","Service"===a.kind&&a.ports&&a.ports.length>0){const e=a.ports[0];this.servicePort=e.name||e.port||""}else"TraefikService"===a.kind&&(this.servicePort="");this.update()},updateServicePort(e){const t="string"===typeof e||"number"===typeof e?e:e?.label||e?.value||"";this.servicePort=t,this.update()}}},x=a(47433);const O=(0,x.A)(P,[["render",E]]);var B=O,L={emits:["remove","validation-changed"],components:{LabeledInput:w.o,LabeledSelect:T.A,ArrayListGrouped:S.A,Banner:n.l,ServiceRow:B},props:{value:{type:Object,required:!0},index:{type:Number,required:!0},serviceTargets:{type:Array,default:()=>[]},middlewareTargets:{type:Array,default:()=>[]},mode:{type:String,default:"edit"},canRemove:{type:Boolean,default:!0},isTcp:{type:Boolean,default:!1}},data(){return{}},created(){this.value.services||(this.value.services=[]),this.isTcp||this.value.middlewares||(this.value.middlewares=[])},computed:{routeTitle(){return this.t("traefik.route")+" "+(this.index+1)},isValid(){const e=!!this.value.match,t=this.value.services?.length>0&&this.value.services.every(e=>{if(!e.name)return!1;const t=this.serviceTargets.find(t=>t.value===e.name);return"TraefikService"===t?.kind||!!e.port});return e&&t},matchError(){return this.value.match?"":this.t("validation.required",{key:this.t("traefik.ingressRoute.routes.match.label")})},hasOrOperators(){return this.value.match&&this.value.match.includes("||")},middlewareOptions(){return this.middlewareTargets.map(e=>({label:e.label,value:e.value}))}},watch:{isValid:{handler(e){this.$emit("validation-changed",e)},immediate:!0}},methods:{remove(){this.$emit("remove")},focus(){this.$refs.match.focus()}}};a(82059);const _=(0,x.A)(L,[["render",N],["__scopeId","data-v-fb12d270"]]);var U=_,M={emits:["validation-changed"],components:{Banner:n.l,Route:U,Tab:c.A,Tabbed:u.A},props:{value:{type:Object,required:!0},mode:{type:String,default:"edit"},serviceTargets:{type:Array,default:()=>[]},middlewareTargets:{type:Array,default:()=>[]},useTabbedHash:{type:Boolean,default:void 0},isTcp:{type:Boolean,default:!1}},data(){return{routeValidations:{}}},beforeUpdate(){for(const e of this.value.spec.routes)e.vKey||(e["vKey"]=(0,d.VN)(1))},computed:{isValid(){if(0===this.value.spec.routes.length)return!1;const e=this.value.spec.routes.length===Object.keys(this.routeValidations).length;return!!e&&Object.values(this.routeValidations).every(e=>!0===e)}},watch:{isValid:{handler(e){this.$emit("validation-changed",e)},immediate:!0},"value.spec.routes.length"(){const e=this.value.spec.routes.length,t=Object.keys(this.routeValidations);t.forEach(t=>{const a=parseInt(t,10);a>=e&&delete this.routeValidations[t]}),this.updateValidationStatus()}},methods:{updateValidationStatus(){const e=this.value.spec.routes.length;for(let t=0;t<e;t++)if(void 0===this.routeValidations[t]){const e=this.value.spec.routes[t],a=!!e.match,s=e.services?.length>0&&e.services.every(e=>!!e.name&&!!e.port);this.routeValidations[t]=a&&s}this.$emit("validation-changed",this.isValid)},routeValidationChanged(e,t){this.routeValidations[t]=e},addRoute(){const e=this.isTcp?{vKey:(0,d.VN)(1),match:"HostSNI(`*`)",services:[{name:"",port:""}]}:{vKey:(0,d.VN)(1),match:"",services:[{name:"",port:"",kind:"Service"}],middlewares:[]};this.value.spec.routes.push(e),this.updateValidationStatus()},removeRoute(e){(0,p.Wq)(this.value.spec.routes,e);const t={};Object.keys(this.routeValidations).forEach(a=>{const s=parseInt(a,10);s<e?t[s]=this.routeValidations[s]:s>e&&(t[s-1]=this.routeValidations[s])}),this.routeValidations=t,this.updateValidationStatus()},routeLabel(e){return this.t("traefik.ingressRoute.routes.routeLabel",{index:e+1})}}};a(53649);const q=(0,x.A)(M,[["render",i],["__scopeId","data-v-0158da48"]]);var I=q},50458:function(e,t,a){var s=a(21402);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals);var r=a(74825).A;r("1e0376ca",s,!0,{sourceMap:!1,shadowMode:!1})},51831:function(e,t,a){"use strict";a.r(t);var s=a(36758),r=a.n(s),l=a(40935),o=a.n(l),i=o()(r());i.push([e.id,".remove-btn[data-v-1daad2c6]{margin-top:30px}",""]),t["default"]=i},53649:function(e,t,a){var s=a(27985);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals);var r=a(74825).A;r("00e80903",s,!0,{sourceMap:!1,shadowMode:!1})},55113:function(e,t,a){var s=a(79433);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals);var r=a(74825).A;r("38a827e0",s,!0,{sourceMap:!1,shadowMode:!1})},58488:function(e,t,a){"use strict";a.d(t,{A:function(){return F}});var s=a(9274);const r={class:"tls-configuration"},l={class:"row mb-20"},o={class:"col span-12"},i={key:0,class:"row mb-20"},n={class:"col span-12"},d={class:"row mb-20"},c={class:"col span-6"},u={class:"col span-6"},p={class:"row mb-20"},v={class:"col span-6"},m={class:"col span-6"},h={class:"domains-section"};function b(e,t,a,b,f,g){const V=(0,s.resolveComponent)("RadioGroup"),y=(0,s.resolveComponent)("Banner"),k=(0,s.resolveComponent)("Checkbox"),C=(0,s.resolveComponent)("LabeledSelect"),N=(0,s.resolveComponent)("LabeledInput"),w=(0,s.resolveComponent)("TLSDomains");return(0,s.openBlock)(),(0,s.createElementBlock)("div",r,[(0,s.createElementVNode)("div",l,[(0,s.createElementVNode)("div",o,[(0,s.createVNode)(V,{value:f.tlsMode,"onUpdate:value":[t[0]||(t[0]=e=>f.tlsMode=e),g.tlsModeChanged],name:"tls-mode",options:[!1,!0],labels:[e.t("traefik.ingressRoute.tls.mode.disabled"),e.t("traefik.ingressRoute.tls.mode.enabled")],mode:a.mode},null,8,["value","labels","mode","onUpdate:value"])])]),f.tlsMode||"view"===a.mode?(0,s.createCommentVNode)("",!0):((0,s.openBlock)(),(0,s.createBlock)(y,{key:0,color:"info",label:a.isTcp?e.t("traefik.ingressRouteTCP.tls.notConfigured"):e.t("traefik.ingressRoute.tls.notConfigured")},null,8,["label"])),f.tlsMode&&!g.hasTlsFields&&"view"!==a.mode?((0,s.openBlock)(),(0,s.createBlock)(y,{key:1,color:"warning",label:e.t("traefik.ingressRoute.tls.validation.atLeastOne")},null,8,["label"])):(0,s.createCommentVNode)("",!0),f.tlsMode?((0,s.openBlock)(),(0,s.createElementBlock)(s.Fragment,{key:2},[a.supportPassthrough?((0,s.openBlock)(),(0,s.createElementBlock)("div",i,[(0,s.createElementVNode)("div",n,[(0,s.createVNode)(k,{value:f.passthrough,"onUpdate:value":t[1]||(t[1]=e=>f.passthrough=e),mode:a.mode,label:e.t("traefik.ingressRouteTCP.tls.passthrough.label"),tooltip:e.t("traefik.ingressRouteTCP.tls.passthrough.tooltip")},null,8,["value","mode","label","tooltip"])])])):(0,s.createCommentVNode)("",!0),(0,s.createElementVNode)("div",d,[(0,s.createElementVNode)("div",c,[(0,s.createVNode)(C,{value:g.tlsSecretValue,mode:a.mode,label:e.t("traefik.ingressRoute.tls.secretName.label"),placeholder:e.t("traefik.ingressRoute.tls.secretName.placeholder"),tooltip:e.t("traefik.ingressRoute.tls.secretName.tooltip"),options:a.secretTargets,clearable:!0,"onUpdate:value":g.updateSecretName},null,8,["value","mode","label","placeholder","tooltip","options","onUpdate:value"])]),(0,s.createElementVNode)("div",u,[(0,s.createVNode)(C,{value:g.tlsOptionsValue,mode:a.mode,label:e.t("traefik.ingressRoute.tls.options.label"),placeholder:e.t("traefik.ingressRoute.tls.options.placeholder"),tooltip:e.t("traefik.ingressRoute.tls.options.tooltip"),options:a.tlsOptionsTargets,clearable:!0,"onUpdate:value":g.ensureOptionsObject},null,8,["value","mode","label","placeholder","tooltip","options","onUpdate:value"])])]),(0,s.createElementVNode)("div",p,[(0,s.createElementVNode)("div",v,[(0,s.createVNode)(N,{value:g.tlsCertResolverValue,mode:a.mode,label:e.t("traefik.ingressRoute.tls.certResolver.label"),placeholder:e.t("traefik.ingressRoute.tls.certResolver.placeholder"),tooltip:e.t("traefik.ingressRoute.tls.certResolver.tooltip"),"onUpdate:value":g.updateCertResolver},null,8,["value","mode","label","placeholder","tooltip","onUpdate:value"])]),(0,s.createElementVNode)("div",m,[(0,s.createVNode)(C,{value:g.tlsStoreValue,mode:a.mode,label:e.t("traefik.ingressRoute.tls.store.label"),placeholder:e.t("traefik.ingressRoute.tls.store.placeholder"),tooltip:e.t("traefik.ingressRoute.tls.store.tooltip"),options:a.tlsStoresTargets,clearable:!0,"onUpdate:value":g.ensureStoreObject},null,8,["value","mode","label","placeholder","tooltip","options","onUpdate:value"])])]),(0,s.createElementVNode)("div",h,[(0,s.createElementVNode)("h5",null,(0,s.toDisplayString)(e.t("traefik.ingressRoute.tls.domains.label")),1),(0,s.createVNode)(w,{value:a.value,mode:a.mode,namespace:a.namespace},null,8,["value","mode","namespace"])])],64)):(0,s.createCommentVNode)("",!0)])}var f=a(22128),g=a(28623),V=a(88268),y=a(42200),k=a(9980);function C(e,t,a,r,l,o){const i=(0,s.resolveComponent)("TLSDomain"),n=(0,s.resolveComponent)("ArrayListGrouped");return(0,s.openBlock)(),(0,s.createElementBlock)("div",null,[(0,s.createVNode)(n,{value:a.value.spec.tls.domains,"onUpdate:value":t[1]||(t[1]=e=>a.value.spec.tls.domains=e),"add-label":e.t("traefik.ingressRoute.tls.domains.addDomain"),"default-add-value":l.defaultAddValue,mode:a.mode,"initial-empty-row":!1,onRemove:o.handleRemove},{default:(0,s.withCtx)(e=>[(0,s.createVNode)(i,{value:e.row.value,index:e.i,mode:a.mode,onRemove:e.remove,onValidationChanged:t[0]||(t[0]=(e,t)=>o.domainValidationChanged(e,t))},null,8,["value","index","mode","onRemove"])]),_:1},8,["value","add-label","default-add-value","mode","onRemove"])])}var N=a(14220),w=a(30279);const T={class:"domain-row row mb-10"},S={class:"col span-5"},R={class:"col span-5"},A={class:"col span-2"};function E(e,t,a,r,l,o){const i=(0,s.resolveComponent)("LabeledInput");return(0,s.openBlock)(),(0,s.createElementBlock)("div",T,[(0,s.createElementVNode)("div",S,[(0,s.createVNode)(i,{value:a.value.main,"onUpdate:value":t[0]||(t[0]=e=>a.value.main=e),mode:a.mode,label:e.t("traefik.ingressRoute.tls.domains.main.label"),placeholder:e.t("traefik.ingressRoute.tls.domains.main.placeholder"),rules:a.rules,required:!0,error:a.value.main?"":e.t("validation.required",{key:e.t("traefik.ingressRoute.tls.domains.main.label")})},null,8,["value","mode","label","placeholder","rules","error"])]),(0,s.createElementVNode)("div",R,[(0,s.createVNode)(i,{value:o.sansAsString,"onUpdate:value":t[1]||(t[1]=e=>o.sansAsString=e),mode:a.mode,label:e.t("traefik.ingressRoute.tls.domains.sans.label"),placeholder:e.t("traefik.ingressRoute.tls.domains.sans.placeholder"),tooltip:e.t("traefik.ingressRoute.tls.domains.sans.tooltip")},null,8,["value","mode","label","placeholder","tooltip"])]),(0,s.createElementVNode)("div",A,[(0,s.createElementVNode)("button",{type:"button",class:"btn role-link remove-btn",onClick:t[2]||(t[2]=(...e)=>o.remove&&o.remove(...e))},(0,s.toDisplayString)(e.t("generic.remove")),1)])])}var P={emits:["remove","validation-changed"],components:{LabeledInput:f.o},props:{value:{type:Object,required:!0},index:{type:Number,required:!0},mode:{type:String,default:"edit"},rules:{default:()=>[],type:Array}},computed:{sansAsString:{get(){return Array.isArray(this.value.sans)?this.value.sans.join(", "):""},set(e){this.value.sans=e?e.split(",").map(e=>e.trim()).filter(e=>e):[]}},isValid(){return!!this.value.main}},watch:{isValid:{handler(e){this.$emit("validation-changed",e,this.index)},immediate:!0}},methods:{remove(){this.$emit("remove")}}},x=(a(17591),a(47433));const O=(0,x.A)(P,[["render",E],["__scopeId","data-v-1daad2c6"]]);var B=O,L={emits:["validation-changed"],components:{ArrayListGrouped:w.A,TLSDomain:B},props:{value:{type:Object,required:!0},mode:{type:String,default:N.G5}},data(){return{domainValidations:{},defaultAddValue:{main:"",sans:[]}}},mounted(){this.value.spec.tls&&!this.value.spec.tls.domains&&(this.value.spec.tls.domains=[])},computed:{isValid(){if(!this.value.spec.tls.domains||0===this.value.spec.tls.domains.length)return!0;const e=this.value.spec.tls.domains.length===Object.keys(this.domainValidations).length;return!!e&&Object.values(this.domainValidations).every(e=>!0===e)}},methods:{domainValidationChanged(e,t){this.domainValidations[t]=e,this.updateValidationStatus()},updateValidationStatus(){this.$emit("validation-changed",this.isValid)},handleRemove(e){delete this.domainValidations[e];const t={};Object.keys(this.domainValidations).forEach(a=>{const s=parseInt(a);s>e?t[s-1]=this.domainValidations[a]:s<e&&(t[s]=this.domainValidations[a])}),this.domainValidations=t}},watch:{isValid:{handler(e){this.$emit("validation-changed",e)},immediate:!0},"value.spec.tls.domains.length"(){this.updateValidationStatus()}}};a(50458);const _=(0,x.A)(L,[["render",C],["__scopeId","data-v-b92792de"]]);var U=_,M=a(92043),q=a(76978),I={emits:["tls-validation-changed"],components:{LabeledInput:f.o,LabeledSelect:g.A,RadioGroup:V.z,Checkbox:y.S,Banner:k.l,TLSDomains:U},props:{value:{type:Object,required:!0},mode:{type:String,default:"edit"},secretTargets:{type:Array,default:()=>[]},tlsOptionsTargets:{type:Array,default:()=>[]},tlsStoresTargets:{type:Array,default:()=>[]},namespace:{type:String,default:"default"},supportPassthrough:{type:Boolean,default:!1},isTcp:{type:Boolean,default:!1}},data(){return{tlsMode:!1,passthrough:!1}},mounted(){this.passthrough=!!this.value.spec.tls?.passthrough,this.initTlsMode(),this.ensureDomainKeys()},computed:{hasTlsFields(){const e=this.value.spec.tls;return!!e&&!!(e.secretName||e.certResolver||e.passthrough||e.options&&e.options.name||e.store&&e.store.name||e.domains&&e.domains.length>0)},isValid(){return!this.tlsMode||this.hasTlsFields},tlsSecretValue(){return(0,q.Jt)(this.value,"spec.tls.secretName")||""},tlsCertResolverValue(){return(0,q.Jt)(this.value,"spec.tls.certResolver")||""},tlsOptionsValue(){return(0,q.Jt)(this.value,"spec.tls.options.name")||""},tlsStoreValue(){return(0,q.Jt)(this.value,"spec.tls.store.name")||""},sansAsString(){return e=>Array.isArray(e.sans)?e.sans.join(", "):""}},methods:{initTlsMode(){this.tlsMode=this.hasTlsFields},tlsModeChanged(e){e?this.value.spec.tls||(this.value.spec.tls={}):delete this.value.spec.tls,this.$emit("tls-validation-changed",this.isValid)},updateSecretName(e){e?(this.value.spec.tls||(this.value.spec.tls={}),(0,q.hZ)(this.value,"spec.tls.secretName",e)):(0,q.TF)(this.value,"spec.tls.secretName")},updateCertResolver(e){e?(this.value.spec.tls||(this.value.spec.tls={}),(0,q.hZ)(this.value,"spec.tls.certResolver",e)):(0,q.TF)(this.value,"spec.tls.certResolver")},ensureOptionsObject(e){e?(this.value.spec.tls||(this.value.spec.tls={}),(0,q.hZ)(this.value,"spec.tls.options.name",e)):(0,q.TF)(this.value,"spec.tls.options")},ensureStoreObject(e){e?(this.value.spec.tls||(this.value.spec.tls={}),(0,q.hZ)(this.value,"spec.tls.store.name",e)):(0,q.TF)(this.value,"spec.tls.store")},ensureDomainKeys(){if(this.value.spec.tls?.domains)for(const e of this.value.spec.tls.domains)e.vKey||(e.vKey=(0,M.VN)(1))},updatePassthrough(e){e?(this.value.spec.tls||(this.value.spec.tls={}),this.value.spec.tls.passthrough=!0):this.value.spec.tls&&delete this.value.spec.tls.passthrough,this.$emit("tls-validation-changed",this.isValid)}},updated(){this.ensureDomainKeys()},watch:{isValid:{handler(e){this.$emit("tls-validation-changed",e)},immediate:!0},hasTlsFields:{handler(e){e&&!this.tlsMode&&(this.tlsMode=!0)}},tlsMode(e){const t=!e||this.hasTlsFields;this.$emit("tls-validation-changed",t)},passthrough(e){this.updatePassthrough(e)}}};a(39122);const $=(0,x.A)(I,[["render",b]]);var F=$},60174:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return L}});var s=a(9274);const r={key:0},l={class:"row"},o={class:"col span-12"},i={key:0,class:"row mb-10"},n={class:"col span-12"},d={class:"row"},c={class:"col span-12"};function u(e,t,a,u,p,v){const m=(0,s.resolveComponent)("Loading"),h=(0,s.resolveComponent)("NameNsDescription"),b=(0,s.resolveComponent)("Banner"),f=(0,s.resolveComponent)("LabeledSelect"),g=(0,s.resolveComponent)("Tab"),V=(0,s.resolveComponent)("Routes"),y=(0,s.resolveComponent)("TLSConfiguration"),k=(0,s.resolveComponent)("IngressClassTab"),C=(0,s.resolveComponent)("Labels"),N=(0,s.resolveComponent)("Tabbed"),w=(0,s.resolveComponent)("CruResource");return e.$fetchState.pending?((0,s.openBlock)(),(0,s.createBlock)(m,{key:0})):((0,s.openBlock)(),(0,s.createBlock)(w,{key:1,"done-route":e.doneRoute,mode:e.mode,resource:e.value,subtypes:[],"validation-passed":v.validationPassed,errors:v.validationErrors,onError:t[3]||(t[3]=e=>p.errors=e),onFinish:e.save},{default:(0,s.withCtx)(()=>[e.value?((0,s.openBlock)(),(0,s.createElementBlock)("div",r,[(0,s.createElementVNode)("div",null,[v.isView?(0,s.createCommentVNode)("",!0):((0,s.openBlock)(),(0,s.createBlock)(h,{key:0,value:e.value,mode:e.mode},null,8,["value","mode"]))]),(0,s.createVNode)(N,{"side-tabs":!0},{default:(0,s.withCtx)(()=>[(0,s.createVNode)(g,{name:"entrypoints",label:e.t("traefik.ingressRoute.entryPoints.label"),weight:10,error:v.tabErrors.entrypoints},{default:(0,s.withCtx)(()=>[(0,s.createElementVNode)("div",l,[(0,s.createElementVNode)("div",o,[(0,s.createVNode)(b,{color:"info",label:e.t("traefik.ingressRoute.entryPoints.description")},null,8,["label"])])]),v.entryPointsValid?(0,s.createCommentVNode)("",!0):((0,s.openBlock)(),(0,s.createElementBlock)("div",i,[(0,s.createElementVNode)("div",n,[(0,s.createVNode)(b,{color:"error",label:e.t("traefik.ingressRoute.validation.entryPointsRequired")},null,8,["label"])])])),(0,s.createElementVNode)("div",d,[(0,s.createElementVNode)("div",c,[(0,s.createVNode)(f,{value:e.value.spec.entryPoints,"onUpdate:value":t[0]||(t[0]=t=>e.value.spec.entryPoints=t),mode:e.mode,label:e.t("traefik.ingressRoute.entryPoints.label"),multiple:!0,taggable:!0,options:v.entryPointOptions,error:v.entryPointsValid?null:e.t("traefik.ingressRoute.validation.entryPointsRequired")},null,8,["value","mode","label","options","error"])])])]),_:1},8,["label","error"]),(0,s.createVNode)(g,{name:"routes",label:e.t("traefik.ingressRoute.routes.label"),weight:9,error:v.tabErrors.routes},{default:(0,s.withCtx)(()=>[(0,s.createVNode)(V,{value:e.value,mode:e.mode,"service-targets":v.serviceTargets,"middleware-targets":v.middlewareTargets,onValidationChanged:t[1]||(t[1]=e=>p.routesValid=e)},null,8,["value","mode","service-targets","middleware-targets"])]),_:1},8,["label","error"]),(0,s.createVNode)(g,{name:"tls",label:e.t("traefik.ingressRoute.tls.label"),weight:8,error:v.tabErrors.tls},{default:(0,s.withCtx)(()=>[(0,s.createVNode)(y,{value:e.value,mode:e.mode,"secret-targets":v.secretTargets,"tls-options-targets":v.tlsOptionsTargets,"tls-stores-targets":v.tlsStoresTargets,namespace:e.value.metadata.namespace,onTlsValidationChanged:t[2]||(t[2]=e=>p.tlsValid=e)},null,8,["value","mode","secret-targets","tls-options-targets","tls-stores-targets","namespace"])]),_:1},8,["label","error"]),(0,s.createVNode)(g,{name:"ingress-class",label:e.t("traefik.ingressRoute.ingressClass.tab"),weight:7},{default:(0,s.withCtx)(()=>[(0,s.createVNode)(k,{value:e.value,mode:e.mode,"ingress-classes":p.ingressClasses},null,8,["value","mode","ingress-classes"])]),_:1},8,["label"]),(0,s.createVNode)(g,{name:"labels-and-annotations","label-key":"generic.labelsAndAnnotations",weight:-1},{default:(0,s.withCtx)(()=>[(0,s.createVNode)(C,{"default-container-class":"labels-and-annotations-container",value:e.value,mode:e.mode,"display-side-by-side":!1},null,8,["value","mode"])]),_:1})]),_:1})])):(0,s.createCommentVNode)("",!0)]),_:1},8,["done-route","mode","resource","validation-passed","errors","onFinish"]))}var p=a(82451),v=a.n(p),m=a(88339),h=a(14220),b=a(35664),f=a(2517),g=a(77651),V=a(83331),y=a(40527),k=a(42411),C=a(75823),N=a(19434),w=a(63209),T=a(28623),S=a(9980),R=a(87619),A=a(39758),E=a(58488),P=a(39392),x={name:"CRUIngressRoute",inheritAttrs:!1,emits:["input"],components:{CruResource:C.A,NameNsDescription:y.A,Routes:A.A,TLSConfiguration:E.A,Labels:N.A,Tab:k.A,Tabbed:w.A,LabeledSelect:T.A,Banner:S.l,Loading:R.A,IngressClassTab:P.A},mixins:[f.A,g.A,V.A],async fetch(){const e=this.value?.metadata?.namespace||null,t={namespace:e,data:{[b.YV]:{applyTo:[{var:"services",classify:!0}]},[b.bB]:{applyTo:[{var:"secrets",classify:!0}]},"traefik.io.middleware":{applyTo:[{var:"middlewares",classify:!0}]},"traefik.io.tlsoption":{applyTo:[{var:"tlsOptions",classify:!0}]},"traefik.io.tlsstore":{applyTo:[{var:"tlsStores",classify:!0}]},"traefik.io.traefikservice":{applyTo:[{var:"traefikServices",classify:!0}]}}};await this.resourceManagerFetchSecondaryResources(t);const a={ingressClasses:this.$store.dispatch("cluster/findAll",{type:"networking.k8s.io.ingressclass",opt:{force:!0}})},s=await(0,m.$t)(a);"fulfilled"===s.ingressClasses?.status&&(this.ingressClasses=s.ingressClasses.value||[])},data(){const e={entryPoints:["websecure"],routes:[{match:"",services:[{name:"",port:"",kind:"Service"}],middlewares:[]}]};return this.mode===h.YQ?this.value["spec"]=v()(this.value.spec,e):(this.value.spec=this.value.spec||{},this.value.spec.entryPoints=this.value.spec.entryPoints||["websecure"],this.value.spec.routes=this.value.spec.routes||[],0===this.value.spec.routes.length&&this.value.spec.routes.push({match:"",services:[{name:"",port:"",kind:"Service"}],middlewares:[]})),{services:[],secrets:[],middlewares:[],tlsOptions:[],tlsStores:[],traefikServices:[],ingressClasses:[],errors:[],routesValid:!1,tlsValid:!0,fvReportedValidationPaths:["spec.routes.match","spec.routes.services.name","spec.entryPoints"],fvFormRuleSets:[{path:"spec.routes.match",rules:["required"],translationKey:"traefik.ingressRoute.routes.match.label"},{path:"spec.routes.services.name",rules:["required"],translationKey:"traefik.ingressRoute.routes.service.label"},{path:"spec.entryPoints",rules:["required"],translationKey:"traefik.ingressRoute.entryPoints.label"}]}},computed:{tabErrors(){return{entrypoints:!this.entryPointsValid,routes:!this.routesValid||this.fvGetPathErrors(["spec.routes.match","spec.routes.services.name"]).length>0,tls:!this.tlsValid}},entryPointOptions(){return[{label:this.t("traefik.ingressRoute.entryPoints.websecure"),value:"websecure"}]},isView(){return this.mode===h.nW},entryPointsValid(){return Array.isArray(this.value.spec.entryPoints)&&this.value.spec.entryPoints.includes("websecure")},validationPassed(){return this.fvFormIsValid&&this.routesValid&&this.tlsValid&&this.entryPointsValid},validationErrors(){const e=[];return[...this.fvUnreportedValidationErrors,...e,...this.errors]},serviceTargets(){const e=this.services.map(e=>({label:e.metadata.name,value:e.metadata.name,kind:"Service",ports:e.spec?.ports||[]})),t=this.traefikServices.map(e=>({label:`[TraefikService] ${e.metadata.name}`,value:e.metadata.name,kind:"TraefikService",ports:[]}));return[...e,...t]},secretTargets(){return this.secrets.filter(e=>"kubernetes.io/tls"===e._type).map(e=>({label:e.metadata.name,value:e.metadata.name}))},middlewareTargets(){return this.middlewares.map(e=>({label:e.metadata.name,value:e.metadata.name,namespace:e.metadata.namespace}))},tlsOptionsTargets(){return this.tlsOptions.map(e=>({label:e.metadata.name,value:e.metadata.name}))},tlsStoresTargets(){return this.tlsStores.map(e=>({label:e.metadata.name,value:e.metadata.name}))}},created(){this.registerBeforeHook(this.willSave,"willSave")},watch:{"value.spec.routes":{handler(e){this.routesValid=e&&e.length>0&&e.every(e=>!!e.match)},deep:!0,immediate:!0},async"value.metadata.namespace"(e){if(e&&!this.$fetchState.pending){const t={namespace:e,data:{[b.YV]:{applyTo:[{var:"services",classify:!0}]},[b.bB]:{applyTo:[{var:"secrets",classify:!0}]},"traefik.io.middleware":{applyTo:[{var:"middlewares",classify:!0}]},"traefik.io.tlsoption":{applyTo:[{var:"tlsOptions",classify:!0}]},"traefik.io.tlsstore":{applyTo:[{var:"tlsStores",classify:!0}]},"traefik.io.traefikservice":{applyTo:[{var:"traefikServices",classify:!0}]}}};await this.resourceManagerFetchSecondaryResources(t)}}},methods:{willSave(){this.value.spec.routes.forEach(e=>{delete e.vKey,e.services&&e.services.forEach(e=>{delete e.vKey,"object"===typeof e.name&&(e.name=e.name?.label||e.name?.value||""),"object"===typeof e.port&&(e.port=e.port?.label||e.port?.value||""),e.kind||(e.kind="Service")}),e.middlewares&&e.middlewares.forEach(e=>delete e.vKey)}),this.value.spec.tls?.domains&&this.value.spec.tls.domains.forEach(e=>delete e.vKey)}}},O=a(47433);const B=(0,O.A)(x,[["render",u]]);var L=B},60594:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return ie}});var s=a(9274);const r={key:0},l={class:"row"},o={class:"col span-12"},i={class:"row mt-20"},n={class:"col span-12"},d={class:"card-title"},c={class:"row"},u={class:"col span-6"},p={class:"col span-6"},v={class:"row"},m={class:"col span-12"},h={class:"row mt-20"},b={class:"col span-12"},f={class:"card-title"},g={class:"mt-20"},V={class:"row"},y={class:"col span-12"},k={class:"row mt-20"},C={class:"col span-12"},N={class:"card-title"},w={class:"row"},T={class:"col span-12"},S={class:"row mt-20"},R={class:"col span-12"},A={class:"row"},E={class:"col span-12"},P={class:"row mt-20"},x={class:"col span-12"},O={class:"card-title"},B={class:"mb-20"},L={class:"mb-20"},_={class:"row"},U={class:"col span-6"},M={class:"col span-6"};function q(e,t,a,q,I,$){const F=(0,s.resolveComponent)("Loading"),K=(0,s.resolveComponent)("NameNsDescription"),j=(0,s.resolveComponent)("Banner"),D=(0,s.resolveComponent)("LabeledSelect"),G=(0,s.resolveComponent)("Card"),H=(0,s.resolveComponent)("Tab"),Y=(0,s.resolveComponent)("ArrayList"),Z=(0,s.resolveComponent)("Checkbox"),J=(0,s.resolveComponent)("ArrayListSelect"),W=(0,s.resolveComponent)("Labels"),z=(0,s.resolveComponent)("Tabbed"),Q=(0,s.resolveComponent)("CruResource");return e.$fetchState.pending?((0,s.openBlock)(),(0,s.createBlock)(F,{key:0})):((0,s.openBlock)(),(0,s.createBlock)(Q,{key:1,"done-route":e.doneRoute,mode:e.mode,resource:e.value,subtypes:[],"validation-passed":$.validationPassed,errors:$.validationErrors,onError:t[10]||(t[10]=e=>I.errors=e),onFinish:e.save},{default:(0,s.withCtx)(()=>[e.value?((0,s.openBlock)(),(0,s.createElementBlock)("div",r,[(0,s.createElementVNode)("div",null,[$.isView?(0,s.createCommentVNode)("",!0):((0,s.openBlock)(),(0,s.createBlock)(K,{key:0,value:e.value,mode:e.mode},null,8,["value","mode"]))]),(0,s.createVNode)(z,{"side-tabs":!0},{default:(0,s.withCtx)(()=>[(0,s.createVNode)(H,{name:"tls-versions",label:e.t("traefik.tlsOption.tabs.tlsVersions"),weight:10,error:$.tabErrors.tlsVersions},{default:(0,s.withCtx)(()=>[(0,s.createElementVNode)("div",l,[(0,s.createElementVNode)("div",o,[(0,s.createVNode)(j,{color:"info",label:e.t("traefik.tlsOption.tlsVersions.description")},null,8,["label"])])]),(0,s.createElementVNode)("div",i,[(0,s.createElementVNode)("div",n,[(0,s.createVNode)(G,{class:"tls-versions-card","show-actions":!1},{title:(0,s.withCtx)(()=>[(0,s.createElementVNode)("h4",d,[t[11]||(t[11]=(0,s.createElementVNode)("i",{class:"icon icon-lock"},null,-1)),(0,s.createTextVNode)(" "+(0,s.toDisplayString)(e.t("traefik.tlsOption.tabs.tlsVersions")),1)])]),body:(0,s.withCtx)(()=>[(0,s.createElementVNode)("div",c,[(0,s.createElementVNode)("div",u,[(0,s.createVNode)(D,{value:e.value.spec.minVersion,"onUpdate:value":t[0]||(t[0]=t=>e.value.spec.minVersion=t),label:e.t("traefik.tlsOption.minVersion.label"),options:$.tlsVersionOptions,mode:e.mode,tooltip:e.t("traefik.tlsOption.minVersion.tooltip"),"option-key":"value","option-label":"label",searchable:!1,clearable:!0,rules:e.fvGetAndReportPathRules("spec.minVersion")},null,8,["value","label","options","mode","tooltip","rules"])]),(0,s.createElementVNode)("div",p,[(0,s.createVNode)(D,{value:e.value.spec.maxVersion,"onUpdate:value":t[1]||(t[1]=t=>e.value.spec.maxVersion=t),label:e.t("traefik.tlsOption.maxVersion.label"),options:$.tlsVersionOptions,mode:e.mode,tooltip:e.t("traefik.tlsOption.maxVersion.tooltip"),"option-key":"value","option-label":"label",searchable:!1,clearable:!0,rules:e.fvGetAndReportPathRules("spec.maxVersion")},null,8,["value","label","options","mode","tooltip","rules"])])])]),_:1})])])]),_:1},8,["label","error"]),(0,s.createVNode)(H,{name:"cipher-suites",label:e.t("traefik.tlsOption.tabs.cipherSuites"),weight:9,error:$.tabErrors.cipherSuites},{default:(0,s.withCtx)(()=>[(0,s.createElementVNode)("div",v,[(0,s.createElementVNode)("div",m,[(0,s.createVNode)(j,{color:"info",label:e.t("traefik.tlsOption.cipherSuites.description")},null,8,["label"])])]),(0,s.createElementVNode)("div",h,[(0,s.createElementVNode)("div",b,[(0,s.createVNode)(G,{class:"cipher-suites-card","show-actions":!1},{title:(0,s.withCtx)(()=>[(0,s.createElementVNode)("h4",f,[t[12]||(t[12]=(0,s.createElementVNode)("i",{class:"icon icon-shield"},null,-1)),(0,s.createTextVNode)(" "+(0,s.toDisplayString)(e.t("traefik.tlsOption.cipherSuites.label")),1)])]),body:(0,s.withCtx)(()=>[(0,s.createVNode)(Y,{value:e.value.spec.cipherSuites,"onUpdate:value":t[2]||(t[2]=t=>e.value.spec.cipherSuites=t),title:e.t("traefik.tlsOption.cipherSuites.label"),mode:e.mode,"add-label":e.t("traefik.tlsOption.cipherSuites.add"),placeholder:e.t("traefik.tlsOption.cipherSuites.placeholder"),tooltip:e.t("traefik.tlsOption.cipherSuites.tooltip"),"initial-empty-row":!1,"default-add-value":"","add-allowed":""},null,8,["value","title","mode","add-label","placeholder","tooltip"]),(0,s.createElementVNode)("div",g,[(0,s.createVNode)(Z,{value:e.value.spec.preferServerCipherSuites,"onUpdate:value":t[3]||(t[3]=t=>e.value.spec.preferServerCipherSuites=t),label:e.t("traefik.tlsOption.preferServerCipherSuites.label"),mode:e.mode,tooltip:e.t("traefik.tlsOption.preferServerCipherSuites.tooltip")},null,8,["value","label","mode","tooltip"])])]),_:1})])])]),_:1},8,["label","error"]),(0,s.createVNode)(H,{name:"client-auth",label:e.t("traefik.tlsOption.tabs.clientAuth"),weight:8,error:$.tabErrors.clientAuth},{default:(0,s.withCtx)(()=>[(0,s.createElementVNode)("div",V,[(0,s.createElementVNode)("div",y,[(0,s.createVNode)(j,{color:"info",label:e.t("traefik.tlsOption.clientAuth.description")},null,8,["label"])])]),(0,s.createElementVNode)("div",k,[(0,s.createElementVNode)("div",C,[(0,s.createVNode)(G,{class:"client-auth-card","show-actions":!1},{title:(0,s.withCtx)(()=>[(0,s.createElementVNode)("h4",N,[t[13]||(t[13]=(0,s.createElementVNode)("i",{class:"icon icon-user"},null,-1)),(0,s.createTextVNode)(" "+(0,s.toDisplayString)(e.t("traefik.tlsOption.clientAuth.label")),1)])]),body:(0,s.withCtx)(()=>[(0,s.createElementVNode)("div",w,[(0,s.createElementVNode)("div",T,[(0,s.createVNode)(D,{value:e.value.spec.clientAuth.clientAuthType,"onUpdate:value":t[4]||(t[4]=t=>e.value.spec.clientAuth.clientAuthType=t),label:e.t("traefik.tlsOption.clientAuth.type.label"),options:$.clientAuthTypeOptions,mode:e.mode,tooltip:e.t("traefik.tlsOption.clientAuth.type.tooltip"),"option-key":"value","option-label":"label",searchable:!1,rules:e.fvGetAndReportPathRules("spec.clientAuth.clientAuthType")},null,8,["value","label","options","mode","tooltip","rules"])])]),(0,s.createElementVNode)("div",S,[(0,s.createElementVNode)("div",R,[(0,s.createVNode)(J,{value:e.value.spec.clientAuth.secretNames,"onUpdate:value":t[5]||(t[5]=t=>e.value.spec.clientAuth.secretNames=t),options:$.secretTargets,"array-list-props":{title:e.t("traefik.tlsOption.clientAuth.secrets.label"),addLabel:e.t("traefik.tlsOption.clientAuth.secrets.add"),mode:e.mode},"select-props":{placeholder:e.t("traefik.tlsOption.clientAuth.secrets.placeholder"),searchable:!0,clearable:!0},disabled:"view"===e.mode},null,8,["value","options","array-list-props","select-props","disabled"])])])]),_:1})])])]),_:1},8,["label","error"]),(0,s.createVNode)(H,{name:"advanced",label:e.t("traefik.tlsOption.tabs.advanced"),weight:7,error:$.tabErrors.advanced},{default:(0,s.withCtx)(()=>[(0,s.createElementVNode)("div",A,[(0,s.createElementVNode)("div",E,[(0,s.createVNode)(j,{color:"info",label:e.t("traefik.tlsOption.advanced.description")},null,8,["label"])])]),(0,s.createElementVNode)("div",P,[(0,s.createElementVNode)("div",x,[(0,s.createVNode)(G,{class:"advanced-options-card","show-actions":!1},{title:(0,s.withCtx)(()=>[(0,s.createElementVNode)("h4",O,[t[14]||(t[14]=(0,s.createElementVNode)("i",{class:"icon icon-settings"},null,-1)),(0,s.createTextVNode)(" "+(0,s.toDisplayString)(e.t("traefik.tlsOption.tabs.advanced")),1)])]),body:(0,s.withCtx)(()=>[(0,s.createElementVNode)("div",B,[(0,s.createElementVNode)("h5",null,(0,s.toDisplayString)(e.t("traefik.tlsOption.alpnProtocols.label")),1),(0,s.createVNode)(Y,{value:e.value.spec.alpnProtocols,"onUpdate:value":t[6]||(t[6]=t=>e.value.spec.alpnProtocols=t),title:e.t("traefik.tlsOption.alpnProtocols.label"),mode:e.mode,"add-label":e.t("traefik.tlsOption.alpnProtocols.add"),placeholder:e.t("traefik.tlsOption.alpnProtocols.placeholder"),tooltip:e.t("traefik.tlsOption.alpnProtocols.tooltip"),"initial-empty-row":!1,"default-add-value":"","add-allowed":""},null,8,["value","title","mode","add-label","placeholder","tooltip"])]),(0,s.createElementVNode)("div",L,[(0,s.createElementVNode)("h5",null,(0,s.toDisplayString)(e.t("traefik.tlsOption.curvePreferences.label")),1),(0,s.createVNode)(Y,{value:e.value.spec.curvePreferences,"onUpdate:value":t[7]||(t[7]=t=>e.value.spec.curvePreferences=t),title:e.t("traefik.tlsOption.curvePreferences.label"),mode:e.mode,"add-label":e.t("traefik.tlsOption.curvePreferences.add"),placeholder:e.t("traefik.tlsOption.curvePreferences.placeholder"),tooltip:e.t("traefik.tlsOption.curvePreferences.tooltip"),"initial-empty-row":!1,"default-add-value":"","add-allowed":""},null,8,["value","title","mode","add-label","placeholder","tooltip"])]),(0,s.createElementVNode)("div",_,[(0,s.createElementVNode)("div",U,[(0,s.createVNode)(Z,{value:e.value.spec.sniStrict,"onUpdate:value":t[8]||(t[8]=t=>e.value.spec.sniStrict=t),label:e.t("traefik.tlsOption.sniStrict.label"),mode:e.mode,tooltip:e.t("traefik.tlsOption.sniStrict.tooltip")},null,8,["value","label","mode","tooltip"])]),(0,s.createElementVNode)("div",M,[(0,s.createVNode)(Z,{value:e.value.spec.disableSessionTickets,"onUpdate:value":t[9]||(t[9]=t=>e.value.spec.disableSessionTickets=t),label:e.t("traefik.tlsOption.disableSessionTickets.label"),mode:e.mode,tooltip:e.t("traefik.tlsOption.disableSessionTickets.tooltip")},null,8,["value","label","mode","tooltip"])])])]),_:1})])])]),_:1},8,["label","error"]),(0,s.createVNode)(H,{name:"labels","label-key":"generic.labelsAndAnnotations",weight:0},{default:(0,s.withCtx)(()=>[(0,s.createVNode)(W,{value:e.value,mode:e.mode},null,8,["value","mode"])]),_:1})]),_:1})])):(0,s.createCommentVNode)("",!0)]),_:1},8,["done-route","mode","resource","validation-passed","errors","onFinish"]))}var I=a(82451),$=a.n(I),F=(a(88339),a(14220)),K=a(35664),j=a(2517),D=a(77651),G=a(83331),H=a(40527),Y=a(42411),Z=a(75823),J=a(19434),W=a(63209),z=a(28623),Q=a(9980),X=a(87619),ee=a(42200),te=a(64676),ae=a(1050),se=a(91364),re={name:"CRUTLSOption",inheritAttrs:!1,emits:["input"],components:{CruResource:Z.A,NameNsDescription:H.A,Labels:J.A,Tab:Y.A,Tabbed:W.A,LabeledSelect:z.A,Banner:Q.l,Loading:X.A,Checkbox:ee.S,ArrayList:te.A,ArrayListSelect:ae.A,Card:se.Z},mixins:[j.A,D.A,G.A],async fetch(){const e=this.value?.metadata?.namespace||null,t={namespace:e,data:{[K.bB]:{applyTo:[{var:"secrets",classify:!0}]}}};await this.resourceManagerFetchSecondaryResources(t)},data(){const e={minVersion:"",maxVersion:"",cipherSuites:[],clientAuth:{clientAuthType:"NoClientCert",secretNames:[]},alpnProtocols:[],curvePreferences:[],sniStrict:!1,disableSessionTickets:!1,preferServerCipherSuites:!1};return this.mode===F.YQ?this.value["spec"]=$()(this.value.spec,e):(this.value.spec=this.value.spec||{},this.value.spec.cipherSuites=this.value.spec.cipherSuites||[],this.value.spec.alpnProtocols=this.value.spec.alpnProtocols||[],this.value.spec.curvePreferences=this.value.spec.curvePreferences||[],this.value.spec.clientAuth?this.value.spec.clientAuth.secretNames=this.value.spec.clientAuth.secretNames||[]:this.value.spec.clientAuth={clientAuthType:"NoClientCert",secretNames:[]}),{secrets:[],errors:[],fvReportedValidationPaths:["spec.minVersion","spec.maxVersion","spec.clientAuth.clientAuthType","spec.clientAuth.secretNames"],fvFormRuleSets:[]}},computed:{tabErrors(){return{tlsVersions:this.fvGetPathErrors(["spec.minVersion","spec.maxVersion"]).length>0,cipherSuites:this.fvGetPathErrors(["spec.cipherSuites","spec.preferServerCipherSuites"]).length>0,clientAuth:this.fvGetPathErrors(["spec.clientAuth.clientAuthType","spec.clientAuth.secretNames"]).length>0,advanced:this.fvGetPathErrors(["spec.sniStrict","spec.disableSessionTickets"]).length>0}},isView(){return this.mode===F.nW},validationPassed(){return this.fvFormIsValid},validationErrors(){const e=[];return[...this.fvUnreportedValidationErrors,...e,...this.errors]},secretTargets(){return this.secrets.filter(e=>"kubernetes.io/tls"===e._type).map(e=>({label:e.metadata.name,value:e.metadata.name}))},requiresClientCerts(){const e=this.value.spec?.clientAuth?.clientAuthType;return["RequireAnyClientCert","VerifyClientCertIfGiven","RequireAndVerifyClientCert"].includes(e)},tlsVersionOptions(){return this.value?.tlsVersions||[{value:"VersionTLS10",label:"TLS 1.0"},{value:"VersionTLS11",label:"TLS 1.1"},{value:"VersionTLS12",label:"TLS 1.2"},{value:"VersionTLS13",label:"TLS 1.3"}]},clientAuthTypeOptions(){return this.value?.clientAuthTypes||[{value:"NoClientCert",label:"No Client Certificate",description:"No client certificate required"},{value:"RequestClientCert",label:"Request Client Certificate",description:"Client certificate is requested but not required"},{value:"RequireAnyClientCert",label:"Require Any Client Certificate",description:"Client certificate is required but not validated"},{value:"VerifyClientCertIfGiven",label:"Verify Client Certificate If Given",description:"Client certificate is verified if provided"},{value:"RequireAndVerifyClientCert",label:"Require and Verify Client Certificate",description:"Client certificate is required and validated"}]}},created(){this.registerBeforeHook(this.willSave,"willSave")},watch:{async"value.metadata.namespace"(e){if(e&&!this.$fetchState.pending){const t={namespace:e,data:{[K.bB]:{applyTo:[{var:"secrets",classify:!0}]}}};await this.resourceManagerFetchSecondaryResources(t)}}},methods:{willSave(){this.value.spec||(this.value.spec={});const e=this.value.spec;""===e.minVersion&&delete e.minVersion,""===e.maxVersion&&delete e.maxVersion,e.cipherSuites&&0===e.cipherSuites.length&&delete e.cipherSuites,e.alpnProtocols&&0===e.alpnProtocols.length&&delete e.alpnProtocols,e.curvePreferences&&0===e.curvePreferences.length&&delete e.curvePreferences,!1===e.sniStrict&&delete e.sniStrict,!1===e.disableSessionTickets&&delete e.disableSessionTickets,!1===e.preferServerCipherSuites&&delete e.preferServerCipherSuites}}},le=(a(55113),a(47433));const oe=(0,le.A)(re,[["render",q],["__scopeId","data-v-be93a8d0"]]);var ie=oe},63232:function(e,t,a){"use strict";a.r(t);var s=a(36758),r=a.n(s),l=a(40935),o=a.n(l),i=o()(r());i.push([e.id,".ingress-class-tab .row[data-v-1348605e]{margin-bottom:20px}.ingress-class-tab .row[data-v-1348605e]:last-child{margin-bottom:0}",""]),t["default"]=i},69810:function(e,t,a){"use strict";a.r(t);var s=a(36758),r=a.n(s),l=a(40935),o=a.n(l),i=o()(r());i.push([e.id,".domains-section{margin-top:20px;padding-top:20px;border-top:1px solid var(--border)}.domains-section h5{margin-bottom:15px;color:var(--text-color)}.remove-btn{margin-top:30px}",""]),t["default"]=i},78656:function(e,t,a){var s=a(63232);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals);var r=a(74825).A;r("4e1f8b40",s,!0,{sourceMap:!1,shadowMode:!1})},79433:function(e,t,a){"use strict";a.r(t);var s=a(36758),r=a.n(s),l=a(40935),o=a.n(l),i=o()(r());i.push([e.id,".card-title[data-v-be93a8d0]{display:flex;align-items:center;gap:8px;color:var(--input-label)}.card-title .icon[data-v-be93a8d0]{color:var(--primary);font-size:1.1em}.advanced-options-card[data-v-be93a8d0],.cipher-suites-card[data-v-be93a8d0],.client-auth-card[data-v-be93a8d0],.tls-versions-card[data-v-be93a8d0]{border:1px solid var(--border);border-radius:var(--border-radius)}h5[data-v-be93a8d0]{color:var(--input-label);margin-bottom:10px;font-weight:500}.mt-20[data-v-be93a8d0]{margin-top:20px}.mb-20[data-v-be93a8d0]{margin-bottom:20px}",""]),t["default"]=i},82059:function(e,t,a){var s=a(16363);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals);var r=a(74825).A;r("2a8bf1ba",s,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=traefik-0.1.9.umd.min.edit.js.map